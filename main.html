<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <title>趣玩星球</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow-x: hidden; /* 禁止水平滚动 */
            position: relative;
            -webkit-text-size-adjust: 100%; /* 防止iOS设备上字体自动调整大小 */
            -webkit-overflow-scrolling: touch; /* 使滚动更流畅 */
            touch-action: pan-y; /* 只允许垂直方向的触摸操作 */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: '微软雅黑', sans-serif;
            background-color: #fff; /* 改为白色背景 */
            color: #333;
            line-height: 1.6;
        }

        /* 顶部搜索栏 */
        .search-bar {
            width: 100%;
            box-sizing: border-box;
            padding: 8px 15px;
            background: #fff;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .location {
            display: flex;
            align-items: center;
            font-size: 14px;
            color: #333;
            background: #f5f5f5;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            white-space: nowrap;
            flex-shrink: 0;
            transition: background-color 0.3s;
        }

        .location:active {
            background: #e0e0e0;
        }

        .location i {
            font-size: 14px;
            margin-right: 4px;
            color: #E41D1D;
        }

        .location-text {
            max-width: 60px;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: 500;
        }

        .location-arrow {
            font-size: 12px;
            color: #666;
            margin-left: 4px;
        }

        .logo {
            font-size: 16px;
            font-weight: bold;
            color: #E41D1D;
            white-space: nowrap; /* 防止文字换行 */
            flex-shrink: 0; /* 防止logo被压缩 */
        }

        .search-box {
            flex: 1;
            display: flex;
            align-items: center;
            background: #f5f5f5;
            border-radius: 20px;
            padding: 6px 12px;
            margin: 0 8px;
        }

        .search-box input {
            flex: 1;
            border: none;
            background: none;
            padding: 4px 8px;
            font-size: 13px;
            width: 100%;
            outline: none;
        }

        .search-box i {
            color: #999;
            font-size: 14px;
        }

        .menu-button {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            flex-shrink: 0; /* 防止按钮被压缩 */
        }

        .menu-button i {
            font-size: 18px;
        }

        /* 特色标签 */
        .feature-tags {
            margin-top: 52px; /* 减小顶部间距 */
            padding: 15px;
            display: flex;
            justify-content: space-between;
            background: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-left: 12px;
            margin-right: 12px;
            width: calc(100% - 24px);
            box-sizing: border-box;
        }

        .feature-tag {
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #666;
        }

        .feature-tag i {
            margin-right: 5px;
            color: #E41D1D;
        }

        /* 轮播广告 */
        .banner {
            width: calc(100% - 24px);
            height: 180px;
            margin: 0 12px 15px 12px;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }

        .banner-container {
            width: 100%;
            height: 100%;
            display: flex;
            transition: transform 0.3s ease-in-out;
        }

        .banner-slide {
            min-width: 100%;
            height: 100%;
        }

        .banner-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        /* 添加轮播指示器 */
        .banner-indicators {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
        }

        .indicator.active {
            background: #fff;
        }

        /* 公告栏 */
        .announcement {
            margin: 15px 12px;
            padding: 10px 15px;
            background: #fff;
            border-radius: 8px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            width: calc(100% - 24px);
            box-sizing: border-box;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            height: 40px;
        }

        .announcement i {
            color: #E41D1D;
            margin-right: 10px;
            font-size: 16px;
            flex-shrink: 0;
        }

        .announcement-text-wrapper {
            flex: 1;
            overflow: hidden;
            white-space: nowrap;
        }

        .announcement-text {
            display: inline-block;
            white-space: nowrap;
            animation: scrollLeft 30s linear infinite;
            color: #E41D1D;
            font-size: 13px;
        }

        @keyframes scrollLeft {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        /* 服务入口 */
        .service-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            padding: 15px;
            width: 100%;
            box-sizing: border-box;
            background: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-left: 12px;
            margin-right: 12px;
            width: calc(100% - 24px);
            box-sizing: border-box;
        }

        .service-item {
            text-align: center;
        }

        .service-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .service-icon i {
            font-size: 28px;
            color: #E41D1D;
        }

        .service-name {
            font-size: 12px;
            color: #333;
        }

        /* 活动入口 */
        .activity-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 15px;
            width: 100%;
            box-sizing: border-box;
            margin-left: 12px;
            margin-right: 12px;
            width: calc(100% - 24px);
            box-sizing: border-box;
        }

        .activity-item {
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .activity-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .activity-icon i {
            font-size: 34px;
            color: #E41D1D;
        }

        .activity-title {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }

        .activity-desc {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        /* 赏金猎人 */
        .bounty-hunter {
            margin: 15px;
            padding: 15px;
            background: #fff;
            border-radius: 12px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-left: 12px;
            margin-right: 12px;
            width: calc(100% - 24px);
            box-sizing: border-box;
        }

        .bounty-icon {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }

        .bounty-icon i {
            font-size: 28px;
            color: #FFC107;
        }

        .bounty-info {
            flex: 1;
        }

        .bounty-title {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }

        .bounty-desc {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        /* 底部导航 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #fff;
            padding: 10px 0;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
            z-index: 1000;
            box-sizing: border-box;
            display: flex;
            justify-content: space-around;
        }

        .nav-item {
            text-align: center;
            color: #666;
            font-size: 12px;
        }

        .nav-item.active {
            color: #E41D1D;
        }

        .nav-item i {
            font-size: 20px;
            margin-bottom: 3px;
        }

        .nav-text {
            display: block;
        }

        /* 修改服务入口图标颜色 */
        .service-item:nth-child(1) .service-icon i {
            color: #FF9800; /* 旅游搭子使用橙色 */
        }

        .service-item:nth-child(2) .service-icon i {
            color: #9C27B0; /* 娱乐搭子使用紫色 */
        }

        .service-item:nth-child(3) .service-icon i {
            color: #2196F3; /* 酒搭子使用蓝色 */
        }

        .service-item:nth-child(4) .service-icon i {
            color: #4CAF50; /* K歌搭子使用绿色 */
        }

        .service-item:nth-child(5) .service-icon i {
            color: #FF5722; /* 在线客服使用深橙色 */
        }

        /* 修改活动入口图标颜色 */
        .activity-item:first-child .activity-icon i {
            color: #3F51B5; /* 活动中心使用靛蓝色 */
        }

        .activity-item:last-child .activity-icon i {
            color: #009688; /* 伴伴盲盒使用青色 */
        }

        /* 修改赏金猎人图标颜色 */
        .bounty-icon i {
            color: #FFC107; /* 使用琥珀色 */
        }

        /* 修改底部导航图标颜色 */
        .nav-item.active {
            color: #673AB7; /* 使用深紫色 */
        }

        /* 添加响应式布局 */
        @media screen and (max-width: 375px) {
            .service-name {
                font-size: 11px;
            }
            
            .service-icon {
                width: 40px;
                height: 40px;
            }
            
            .service-icon i {
                font-size: 20px;
            }
            
            .activity-title {
                font-size: 13px;
            }
            
            .activity-desc {
                font-size: 11px;
            }
        }

        @media screen and (max-width: 320px) {
            .service-grid {
                gap: 8px;
                padding: 10px;
            }
            
            .service-icon {
                width: 35px;
                height: 35px;
            }
            
            .service-name {
                font-size: 10px;
            }
            
            .activity-grid {
                gap: 10px;
                padding: 10px;
            }
        }

        /* 添加安全区域适配 */
        @supports (padding-bottom: env(safe-area-inset-bottom)) {
            .bottom-nav {
                padding-bottom: calc(10px + env(safe-area-inset-bottom));
            }
        }

        /* 添加陪玩项目容器样式 */
        .project-title {
            font-size: 14px;
            color: #673AB7;
            font-weight: bold;
            margin: 15px 12px;
            display: flex;
            align-items: center;
        }

        .project-title::before {
            content: '';
            width: 3px;
            height: 14px;
            background: #673AB7;
            margin-right: 8px;
            border-radius: 2px;
        }

        .project-container {
            margin: 15px 12px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 15px;
            width: calc(100% - 24px);
            box-sizing: border-box;
            overflow: hidden;  /* 确保内容不会溢出 */
        }

        /* 添加陪玩项目商品卡片样式 */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;  /* 增加卡片之间的间距 */
            padding: 20px;  /* 增加整体内边距 */
            margin: 0 -12px;  /* 抵消容器的边距，让内容可以完整显示 */
        }

        .project-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow: hidden;
            transition: transform 0.2s ease;
            margin-bottom: 5px;  /* ���加底部间距 */
        }

        .project-card:active {
            transform: scale(0.98);
        }

        .project-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 12px 12px 0 0;
        }

        .project-info {
            padding: 12px;
        }

        .project-name {
            font-size: 15px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }

        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .tag {
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 12px;
        }

        .tag-personality {
            background: #E3F2FD;
            color: #2196F3;
        }

        .tag-age {
            background: #FFF3E0;
            color: #FF9800;
        }

        .project-price {
            color: #E41D1D;
            font-size: 17px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .project-price small {
            font-size: 12px;
            color: #999;
            font-weight: normal;
            margin-left: 2px;
        }

        /* 修改购买钮样式 */
        .add-cart-button {
            width: 100%;
            padding: 8px 12px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-sizing: border-box;
            transition: background-color 0.2s ease;
        }

        .add-cart-button:active {
            background: #1976D2;
        }

        /* 添加性别标签样式 */
        .tag-gender {
            background: #E1F5FE;
            color: #03A9F4;
        }

        /* 添加定位弹窗样式 */
        .location-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }

        .location-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            max-height: 70vh;
            background: white;
            border-radius: 16px 16px 0 0;
            padding: 20px;
            box-sizing: border-box;
            transform: translateY(100%);
            transition: transform 0.3s ease-out;
            overflow-y: auto;
        }

        .location-content.show {
            transform: translateY(0);
        }

        .location-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .location-title {
            font-size: 16px;
            font-weight: bold;
        }

        .location-close {
            font-size: 20px;
            color: #999;
            cursor: pointer;
        }

        .location-section {
            margin-bottom: 15px;
        }

        .location-section-title {
            font-size: 14px;
            color: #999;
            margin-bottom: 10px;
        }

        .location-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .location-option {
            padding: 12px 0;
            text-align: center;
            background: #f5f5f5;
            border-radius: 6px;
            cursor: pointer;
        }

        .location-option.active {
            background: #E3F2FD;
            color: #2196F3;
        }

        /* 修改城市选择弹窗样式 */
        .location-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }

        .location-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            max-height: 70vh;
            background: white;
            border-radius: 16px 16px 0 0;
            padding: 20px;
            box-sizing: border-box;
            transform: translateY(100%);
            transition: transform 0.3s ease-out;
            overflow-y: auto;
        }

        .location-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .location-title {
            font-size: 16px;
            font-weight: bold;
        }

        .location-close {
            font-size: 20px;
            color: #999;
            cursor: pointer;
        }

        .location-section {
            margin-bottom: 15px;
        }

        .location-section-title {
            font-size: 14px;
            color: #999;
            margin-bottom: 10px;
        }

        .location-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .location-option {
            padding: 12px 0;
            text-align: center;
            background: #f5f5f5;
            border-radius: 6px;
            cursor: pointer;
        }

        .location-option.active {
            background: #E3F2FD;
            color: #2196F3;
        }

        /* 添加技能类型标签样式 */
        .tag-skill {
            background: #F3E5F5;
            color: #9C27B0;
        }

        /* 添加城市搜索样式 */
        .location-search {
            padding: 10px 15px;
            margin-bottom: 15px;
            position: relative;
            border-bottom: 1px solid #eee;
        }

        .location-search input {
            width: 100%;
            padding: 8px 12px 8px 35px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
            box-sizing: border-box;
            outline: none;
        }

        .location-search i {
            position: absolute;
            left: 25px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
            font-size: 14px;
        }

        .location-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .location-list::-webkit-scrollbar {
            width: 4px;
        }

        .location-list::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .location-list::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 2px;
        }

        .location-index {
            padding: 5px 15px;
            background: #f5f5f5;
            color: #666;
            font-size: 12px;
        }

        .city-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 10px 15px;
        }

        .city-item {
            text-align: center;
            padding: 8px;
            background: #f5f5f5;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
        }

        .city-item:active {
            background: #e0e0e0;
        }

        /* 添加分类标签样式 */
        .project-category {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            overflow-x: auto;
            padding: 0 5px;
        }

        .category-item {
            font-size: 13px;
            color: #666;
            padding: 4px 12px;
            border-radius: 15px;
            white-space: nowrap;
            cursor: pointer;
        }

        .category-item.active {
            color: #673AB7;
            font-weight: bold;
            position: relative;
        }

        .category-item.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 2px;
            background: #673AB7;
            border-radius: 1px;
        }

        /* 修改所有弹窗的基础样式 */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            width: 80%;
            max-width: 300px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* 修改所有alert样式 */
        .custom-alert {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 12px 20px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1000;
            text-align: center;
            max-width: 80%;
        }
    </style>
</head>
<body>
    <!-- 顶部搜索栏 -->
    <div class="search-bar">
        <div class="location" onclick="showLocationPicker()">
            <i class="fas fa-map-marker-alt"></i>
            <span class="location-text">定位中...</span>
            <i class="fas fa-chevron-down location-arrow"></i>
        </div>
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="搜索">
        </div>
        <div class="menu-button">
            <i class="fas fa-ellipsis-v"></i>
        </div>
    </div>

    <!-- 特色标签 -->
    <div class="feature-tags">
        <div class="feature-tag">
            <i class="fas fa-check-circle"></i>
            <span>绝对绿色</span>
        </div>
        <div class="feature-tag">
            <i class="fas fa-user-check"></i>
            <span>专业陪伴</span>
        </div>
        <div class="feature-tag">
            <i class="fas fa-id-card"></i>
            <span>真人认证</span>
        </div>
        <div class="feature-tag">
            <i class="fas fa-shield-alt"></i>
            <span>平台保障</span>
        </div>
    </div>

    <!-- 轮播广告 -->
    <div class="banner">
        <div class="banner-container">
            <div class="banner-slide">
                <img src="https://picsum.photos/800/400?random=1" alt="广告1">
            </div>
            <div class="banner-slide">
                <img src="https://picsum.photos/800/400?random=2" alt="广告2">
            </div>
            <div class="banner-slide">
                <img src="https://picsum.photos/800/400?random=3" alt="广3">
            </div>
        </div>
        <div class="banner-indicators">
            <div class="indicator active"></div>
            <div class="indicator"></div>
            <div class="indicator"></div>
        </div>
    </div>

    <!-- 公告栏 -->
    <div class="announcement" onclick="showAnnouncement()">
        <i class="fas fa-volume-up"></i>
        <div class="announcement-text-wrapper">
            <div class="announcement-text">
                1. 为了保障您的权益，请您切勿线下交易，如您发生线下交易发生财产损失，本平台概不负责！2. 本平台为绿色陪玩平台，所有陪玩都经过专业培训，无法提供私密性场所的服务，请您谅解
            </div>
        </div>
    </div>

    <!-- 服务入口 -->
    <div class="service-grid">
        <div class="service-item">
            <div class="service-icon">
                <i class="fas fa-plane"></i>
            </div>
            <div class="service-name">旅游搭子</div>
        </div>
        <div class="service-item">
            <div class="service-icon">
                <i class="fas fa-gamepad"></i>
            </div>
            <div class="service-name">娱乐搭子</div>
        </div>
        <div class="service-item">
            <div class="service-icon">
                <i class="fas fa-glass-cheers"></i>
            </div>
            <div class="service-name">酒搭子</div>
        </div>
        <div class="service-item">
            <div class="service-icon">
                <i class="fas fa-microphone"></i>
            </div>
            <div class="service-name">K歌搭子</div>
        </div>
        <div class="service-item">
            <div class="service-icon">
                <i class="fas fa-headset"></i>
            </div>
            <div class="service-name">在线服</div>
        </div>
    </div>

    <!-- 活动入口 -->
    <div class="activity-grid">
        <div class="activity-item">
            <div class="activity-icon">
                <i class="fas fa-gift"></i>
            </div>
            <div class="activity-title">活动中心</div>
            <div class="activity-desc">点击开启你的活动之旅</div>
        </div>
        <div class="activity-item">
            <div class="activity-icon">
                <i class="fas fa-box-open"></i>
            </div>
            <div class="activity-title">伴伴盲盒</div>
            <div class="activity-desc">打开盲盒开启新缘分~</div>
        </div>
    </div>

    <!-- 赏金猎人 -->
    <div class="bounty-hunter">
        <div class="bounty-icon">
            <i class="fas fa-coins"></i>
        </div>
        <div class="bounty-info">
            <div class="bounty-title">赏金猎人</div>
            <div class="bounty-desc">想要的都能帮你找~</div>
        </div>
    </div>

    <!-- 修改标题和添加分类 -->
    <div class="project-title">热门推荐</div>
    <div class="project-category">
        <div class="category-item active">全部</div>
        <div class="category-item">城市陪玩</div>
        <div class="category-item">游戏陪玩</div>
        <div class="category-item">景点门票</div>
    </div>
    <div class="project-container">
        <div class="project-grid">
            <!-- 商品卡片1 -->
            <div class="project-card" onclick="goToDetail(this)">
                <img src="https://picsum.photos/300/400?random=1" alt="陪玩照片" class="project-image">
                <div class="project-info">
                    <div class="project-name">小甜甜</div>
                    <div class="project-tags">
                        <span class="tag tag-personality">活泼开朗</span>
                        <span class="tag tag-age">22岁</span>
                        <span class="tag tag-gender">女生</span>
                        <span class="tag tag-skill">旅游</span>
                        <span class="tag tag-skill">逛街</span>
                    </div>
                    <div class="project-price">
                        ¥188<small>/小时</small>
                    </div>
                    <button class="add-cart-button">
                        <i class="fas fa-shopping-cart"></i>
                        <span>立即购买</span>
                    </button>
                </div>
            </div>

            <!-- 商品卡片2 -->
            <div class="project-card" onclick="goToDetail(this)">
                <img src="https://picsum.photos/300/400?random=2" alt="陪玩照片" class="project-image">
                <div class="project-info">
                    <div class="project-name">暖暖</div>
                    <div class="project-tags">
                        <span class="tag tag-personality">温柔体贴</span>
                        <span class="tag tag-age">24岁</span>
                        <span class="tag tag-gender">女生</span>
                        <span class="tag tag-skill">看电影</span>
                        <span class="tag tag-skill">喝酒</span>
                    </div>
                    <div class="project-price">
                        ¥199<small>/小时</small>
                    </div>
                    <button class="add-cart-button">
                        <i class="fas fa-shopping-cart"></i>
                        <span>立即购买</span>
                    </button>
                </div>
            </div>

            <!-- 商品卡片3 -->
            <div class="project-card" onclick="goToDetail(this)">
                <img src="https://picsum.photos/300/400?random=3" alt="陪玩照片" class="project-image">
                <div class="project-info">
                    <div class="project-name">阳光</div>
                    <div class="project-tags">
                        <span class="tag tag-personality">阳光帅气</span>
                        <span class="tag tag-age">25岁</span>
                        <span class="tag tag-gender">男生</span>
                        <span class="tag tag-skill">旅游</span>
                        <span class="tag tag-skill">喝酒</span>
                    </div>
                    <div class="project-price">
                        ¥168<small>/小时</small>
                    </div>
                    <button class="add-cart-button">
                        <i class="fas fa-shopping-cart"></i>
                        <span>立即购买</span>
                    </button>
                </div>
            </div>

            <!-- 商品卡片4 -->
            <div class="project-card" onclick="goToDetail(this)">
                <img src="https://picsum.photos/300/400?random=4" alt="陪玩照片" class="project-image">
                <div class="project-info">
                    <div class="project-name">小可爱</div>
                    <div class="project-tags">
                        <span class="tag tag-personality">可爱萌妹</span>
                        <span class="tag tag-age">20岁</span>
                        <span class="tag tag-gender">女生</span>
                        <span class="tag tag-skill">逛街</span>
                        <span class="tag tag-skill">看电影</span>
                    </div>
                    <div class="project-price">
                        ¥158<small>/小时</small>
                    </div>
                    <button class="add-cart-button">
                        <i class="fas fa-shopping-cart"></i>
                        <span>立即购买</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 底部导航 -->
    <div class="bottom-nav">
        <div class="nav-item active">
            <i class="fas fa-home"></i>
            <span class="nav-text">首页</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-plane"></i>
            <span class="nav-text">旅行</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-comments"></i>
            <span class="nav-text">聊天</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-star"></i>
            <span class="nav-text">订单</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-user"></i>
            <span class="nav-text">我的</span>
        </div>
    </div>

    <!-- 添加定位弹窗 -->
    <div class="location-modal" id="locationModal">
        <div class="location-content">
            <div class="location-header">
                <div class="location-title">选择城市</div>
                <div class="location-close" onclick="closeLocationPicker()">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            
            <div class="location-search">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="搜索城市" oninput="searchCity(this.value)">
            </div>

            <div class="location-list" id="cityList">
                <!-- A开头城市 -->
                <div class="location-index">A</div>
                <div class="city-list">
                    <div class="city-item" onclick="selectLocation('阿坝')">阿坝</div>
                    <div class="city-item" onclick="selectLocation('阿拉善')">阿拉善</div>
                    <div class="city-item" onclick="selectLocation('阿里')">阿里</div>
                    <div class="city-item" onclick="selectLocation('安康')">安康</div>
                    <div class="city-item" onclick="selectLocation('安庆')">安庆</div>
                    <div class="city-item" onclick="selectLocation('鞍山')">鞍山</div>
                    <div class="city-item" onclick="selectLocation('安顺')">安顺</div>
                    <div class="city-item" onclick="selectLocation('安阳')">安阳</div>
                    <div class="city-item" onclick="selectLocation('澳门')">澳门</div>
                </div>

                <!-- B开头城市 -->
                <div class="location-index">B</div>
                <div class="city-list">
                    <div class="city-item" onclick="selectLocation('白城')">白城</div>
                    <div class="city-item" onclick="selectLocation('百色')">百色</div>
                    <div class="city-item" onclick="selectLocation('白山')">白山</div>
                    <div class="city-item" onclick="selectLocation('白银')">白银</div>
                    <div class="city-item" onclick="selectLocation('保定')">保定</div>
                    <div class="city-item" onclick="selectLocation('宝鸡')">宝鸡</div>
                    <div class="city-item" onclick="selectLocation('保山')">保山</div>
                    <div class="city-item" onclick="selectLocation('包头')">包头</div>
                    <div class="city-item" onclick="selectLocation('巴彦淖尔')">巴彦淖尔</div>
                    <div class="city-item" onclick="selectLocation('巴音郭楞')">巴音郭楞</div>
                    <div class="city-item" onclick="selectLocation('巴中')">巴中</div>
                    <div class="city-item" onclick="selectLocation('北海')">北海</div>
                    <div class="city-item" onclick="selectLocation('北京')">北京</div>
                    <div class="city-item" onclick="selectLocation('本溪')">本溪</div>
                    <div class="city-item" onclick="selectLocation('毕节')">毕节</div>
                    <div class="city-item" onclick="selectLocation('滨州')">滨州</div>
                    <div class="city-item" onclick="selectLocation('博尔塔拉')">博尔塔拉</div>
                </div>

                <!-- C开头城市 -->
                <div class="location-index">C</div>
                <div class="city-list">
                    <div class="city-item" onclick="selectLocation('沧州')">沧州</div>
                    <div class="city-item" onclick="selectLocation('长春')">长春</div>
                    <div class="city-item" onclick="selectLocation('常德')">常德</div>
                    <div class="city-item" onclick="selectLocation('昌都')">昌都</div>
                    <div class="city-item" onclick="selectLocation('长沙')">长沙</div>
                    <div class="city-item" onclick="selectLocation('长治')">长治</div>
                    <div class="city-item" onclick="selectLocation('常州')">常州</div>
                    <div class="city-item" onclick="selectLocation('巢湖')">巢湖</div>
                    <div class="city-item" onclick="selectLocation('朝阳')">朝阳</div>
                    <div class="city-item" onclick="selectLocation('潮州')">���州</div>
                    <div class="city-item" onclick="selectLocation('承德')">承德</div>
                    <div class="city-item" onclick="selectLocation('成都')">成都</div>
                    <div class="city-item" onclick="selectLocation('郴州')">郴州</div>
                    <div class="city-item" onclick="selectLocation('赤峰')">赤峰</div>
                    <div class="city-item" onclick="selectLocation('池州')">池州</div>
                    <div class="city-item" onclick="selectLocation('重庆')">重庆</div>
                    <div class="city-item" onclick="selectLocation('崇左')">崇左</div>
                    <div class="city-item" onclick="selectLocation('楚雄')">楚雄</div>
                </div>

                <!-- 继续添加其他字母开头的城市... -->
            </div>
        </div>
    </div>

    <script>
        // 添加点击事件处理
        document.addEventListener('DOMContentLoaded', function() {
            // 服务入口点击事件
            const serviceItems = document.querySelectorAll('.service-item');
            serviceItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    const services = ['travel', 'entertainment', 'wine', 'ktv', 'customer-service'];
                    window.location.href = `${services[index]}.html`;
                });
            });

            // 活动入口点击事件
            document.querySelectorAll('.activity-item')[0].addEventListener('click', function() {
                window.location.href = 'activity-center.html';
            });
            document.querySelectorAll('.activity-item')[1].addEventListener('click', function() {
                window.location.href = 'mystery-box.html';
            });

            // 赏金猎人点击事件
            document.querySelector('.bounty-hunter').addEventListener('click', function() {
                window.location.href = 'bounty-hunter.html';
            });

            // 底部导航点击事件
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    navItems.forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                    const pages = ['main', 'travel', 'chat', 'orders', 'profile'];
                    if (pages[index] === 'orders') {
                        window.location.href = 'orders.html';
                    } else {
                        window.location.href = `${pages[index]}.html`;
                    }
                });
            });

            // 轮播图功能
            const bannerContainer = document.querySelector('.banner-container');
            const indicators = document.querySelectorAll('.indicator');
            let currentSlide = 0;
            const slideCount = document.querySelectorAll('.banner-slide').length;

            // 自动轮播
            setInterval(() => {
                currentSlide = (currentSlide + 1) % slideCount;
                updateSlide();
            }, 3000);

            // 更新轮播图显示
            function updateSlide() {
                bannerContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
                // 更新指示器
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlide);
                });
            }

            // 点击指示器切换轮播图
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                    currentSlide = index;
                    updateSlide();
                });
            });
        });

        // 定位相关功能
        function showLocationPicker() {
            const modal = document.getElementById('locationModal');
            modal.style.display = 'block';
            setTimeout(() => {
                modal.querySelector('.location-content').classList.add('show');
            }, 10);
        }

        function closeLocationPicker() {
            const modal = document.getElementById('locationModal');
            modal.querySelector('.location-content').classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        function selectLocation(city) {
            document.querySelector('.location-text').textContent = city;
            closeLocationPicker();
            // 这里可以添加选择城市后的其他操作
        }

        // 页面加载时尝试获取定位
        document.addEventListener('DOMContentLoaded', function() {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    // 这可以根据经纬度调用地图API获取城市名称
                    // 示例中直接显示"上海"
                    document.querySelector('.location-text').textContent = '上海';
                }, function(error) {
                    document.querySelector('.location-text').textContent = '选择城市';
                });
            } else {
                document.querySelector('.location-text').textContent = '选择城市';
            }
        });

        // 添加跳转函数
        function goToDetail(element) {
            const info = {
                id: element.dataset.id,
                name: element.querySelector('.project-name').textContent,
                price: element.querySelector('.project-price').textContent.split('/')[0],
                image: element.querySelector('.project-image').src,
                tags: [
                    {type: 'personality', text: element.querySelector('.tag-personality').textContent},
                    {type: 'age', text: element.querySelector('.tag-age').textContent},
                    {type: 'gender', text: element.querySelector('.tag-gender').textContent}
                ]
            };
            
            const params = new URLSearchParams({
                id: info.id,
                name: info.name,
                price: info.price,
                image: info.image,
                tags: JSON.stringify(info.tags)
            });
            
            window.location.href = `companion-detail.html?${params.toString()}`;
        }

        // 修改城市搜索功能
        function searchCity(keyword) {
            const cityList = document.getElementById('cityList');
            const cityItems = cityList.getElementsByClassName('city-item');
            const indexes = cityList.getElementsByClassName('location-index');
            const sections = cityList.getElementsByClassName('location-section');
            
            // 清除之前的"未找到"提示
            const existingNoResult = cityList.querySelector('.no-result');
            if (existingNoResult) {
                existingNoResult.remove();
            }
            
            if (!keyword) {
                // 如果搜索框为空，显示所有城市
                Array.from(sections).forEach(section => section.style.display = 'block');
                Array.from(indexes).forEach(index => index.style.display = 'block');
                Array.from(cityItems).forEach(item => {
                    item.style.display = 'block';
                    item.parentElement.style.display = 'grid';
                });
                return;
            }
            
            // 隐藏所有索引和section
            Array.from(indexes).forEach(index => index.style.display = 'none');
            Array.from(sections).forEach(section => section.style.display = 'none');
            
            // 搜索匹配的城市
            let hasMatch = false;
            let exactMatch = false;
            Array.from(cityItems).forEach(item => {
                const cityName = item.textContent.trim();
                const pinyin = getPinyin(cityName);
                const pinyinFirst = getPinyinFirst(cityName);
                
                // 检查是否���全匹配
                if (cityName === keyword) {
                    exactMatch = true;
                    item.style.display = 'block';
                    item.parentElement.style.display = 'grid';
                    hasMatch = true;
                } else if (!exactMatch && (cityName.includes(keyword) || 
                           pinyin.toLowerCase().includes(keyword.toLowerCase()) ||
                           pinyinFirst.toLowerCase().includes(keyword.toLowerCase()))) {
                    // 如果没有完全匹配，则显示包含关键词的结果
                    item.style.display = 'block';
                    item.parentElement.style.display = 'grid';
                    hasMatch = true;
                } else {
                    item.style.display = 'none';
                }
            });
            
            // 如果没有匹配结果，显示提示
            if (!hasMatch) {
                const noResult = document.createElement('div');
                noResult.className = 'no-result';
                noResult.style.cssText = `
                    text-align: center;
                    padding: 20px;
                    color: #999;
                    font-size: 14px;
                `;
                noResult.textContent = '未找到相关城市';
                cityList.appendChild(noResult);
            }
        }

        // 添加拼音首字母获取函数
        function getPinyinFirst(chinese) {
            // 这里可以添加更完整的拼音首字母映射
            const pinyinMap = {
                '北': 'b', '上': 's', '广': 'g', '深': 's',
                '成': 'c', '重': 'c', '天': 't', '武': 'w',
                '南': 'n', '西': 'x', '长': 'c', '沈': 's',
                '杭': 'h', '济': 'j', '青': 'q', '大': 'd'
                // ... 添加更多汉字拼音首字母映射
            };
            
            return chinese.split('').map(char => pinyinMap[char] || char).join('');
        }
    </script>
</body>
</html> 